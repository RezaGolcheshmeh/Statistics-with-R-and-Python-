{"title":"chapter1: Measures of central tendency","markdown":{"headingText":"chapter1: Measures of central tendency","containsRefs":false,"markdown":"\nIn this chapter we will learn descriptive statistics.\n\n**Measures of Central Tendency** are statistical values that represent the *center* or *typical value* of a data set. They help us understand the overall trend or “average” behavior of the data.\n\n## Mode in R\n\nThe mode is the value(s) that appear most frequently in the data set.\n\nIn R, the `lsr` package provides a simple and clean way to calculate the mode.\n\nStep 1: Install and Load the `lsr` Package\n\n```{r}\ninstall.packages(\"lsr\")\nlibrary(lsr)\n```\n\n**Example:**\n\n```{r}\ndata <- c(1, 2, 2, 3, 3, 3, 4, 5)\nmodeOf(data)\n```\n\n⚠️ Important Note\n\nThere is a base R function also named `mode()` — but it returns the data type (like `\"numeric\"`, `\"character\"`) instead of calculating the statistical mode!\n\n**Example: Mode in Data Frame**\n\n```{r}\ndf <- data.frame(\n  Score = c(1, 2, 2, 3, 4, 3, NA),\n  Group = c(\"A\", \"B\", \"B\", \"B\", \"A\", \"A\", NA),\n  Age   = c(20, 22, 21, 22, 21, 22, 21)\n)\n\nsapply(df, modeOf)\n```\n\nThe `sapply()` function is executed on each column of the dataframe.\n\n## Mode in Python\n\nCalculating the Mode in Python Using `pandas`\n\n**Use `.mode()` to Find the Mode**\n\n**Exaple 1:**\n\n```{python}\nimport pandas as pd\n\ndata = pd.Series([1, 2, 2, 3, 4, 4, 5])\nmod = data.mode()\nprint(\"Mode:\", mod.tolist())\n\n#or\n\nprint (mod)\n\n```\n\n**Example 2:** Create a Sample Data Frame.\n\nMode for All Columns:\n\n```{python}\ndata = {\n    'A': [1, 2, 2, 3, 4],\n    'B': [5, 5, 6, 7, 7],\n    'C': [10, 10, 10, 11, 12]\n}\n\ndf = pd.DataFrame(data)\n\nmode_values = df.mode()\nprint(mode_values)\n```\n\n**Example 3:**\n\nMode for All Columns:\n\n```{python}\ndata = {\n    \"Name\": [\"Alice\", \"Bob\", \"Charlie\", \"Diana\", \"Eli\", \"Fiona\"],\n    \"Age\": [24, 30, 22, 24, 30, 24],\n    \"Gender\": [\"Female\", \"Male\", \"Male\", \"Female\", \"Male\", \"Female\"]\n}\n\ndf = pd.DataFrame(data)\ndf\n```\n\nMode of the `\"Age\"` column:\n\n```{python}\ndf[\"Age\"].mode()\n```\n\n## Median in R\n\nThe **median** is the middle value of a dataset when the numbers are sorted in order.\n\n-   If the number of values is **odd**, it’s the middle one.\n\n-   If it’s **even**, it’s the average of the two middle numbers.\n\nBasic `median()` function.\n\n```{r}\nx <- c(10, 20, 30, 40, 50)\nmedian(x)\n```\n\nWith missing values (`NA`) we can use `na.rm = TRUE`\n\n```{r}\ny <- c(5, 8, NA, 12)\nmedian(y, na.rm =TRUE)\n\n```\n\n**Using `tapply` with categorical variables in R**\n\n`tapply` lets you apply a function (like `median`) to subsets of a vector, defined by a categorical variable (factor).\n\n```{r}\nAge <- c(24, 30, 22, 24, 30, 24)\nGender <- c(\"F\", \"M\", \"M\", \"F\", \"M\", \"F\")\n\ntapply(Age, Gender, median)\n```\n\n**Explanation:**\n\n-   **First argument** → numeric vector (`Age`)\n\n-   **Second argument** → categorical variable (`Gender`)\n\n-   **Third argument** → function to apply (`median`)\n\nSo this gives you the median age for each gender.\n\nExample : DataFrame\n\n```{r}\ndata <- data.frame(\n  Gender = c(\"f\", \"f\", \"m\", \"m\", \"f\", \"m\"),\n  Anxiety = c(12, 15, NA, 20, 18, 25),\n  Depression = c(30, NA, 28, 35, 40, NA)\n)\n\ndata\n```\n\n**Use** `sapply , lapply`\n\n```{r}\nsapply(data[, c(\"Anxiety\",\"Depression\")], median, na.rm = TRUE)  #1\n#or\nsapply(data[sapply(data, is.numeric)], median, na.rm = TRUE)     #2\n\n#or\nlapply(data[, c(\"Anxiety\",\"Depression\")], median, na.rm = TRUE)  #3\n```\n\n**Use** `tapply`\n\n```{r}\ntapply(data$Anxiety, data$Gender, median, na.rm = TRUE)\ntapply(data$Depression, data$Gender, median, na.rm = TRUE)\n```\n\n**Use** `aggregate`\n\n```{r}\naggregate(cbind(Anxiety, Depression) ~ Gender, data = data, median,na.rm = TRUE)\n```\n\n## Median in Python\n\n**1.**Using the `statistics` library\n\n```{python}\nimport statistics\n\ndata = [10, 12, 15, 17, 18]\nmedian_value = statistics.median(data)\n\nprint(\"Median:\", median_value)\n```\n\n**2.**Using the `NumPy` library\n\n```{python}\nimport numpy as np\n\ndata = [10, 12, 15, 17, 18]\nmedian_value = np.median(data)\n\nprint(\"Median:\", median_value)\n```\n\n**3.**Using the `Pandas`library to **DataFrame**\n\n```{python}\nimport pandas as pd\n\ndata = {\n    \"Age\": [24, 30, 22, 24, 30, 24],\n    \"Score\": [85, 90, 78, 92, 88, 95]\n}\n\ndf = pd.DataFrame(data)\n\nprint(\"Median Age:\", df[\"Age\"].median())\nprint(\"Median Score:\", df[\"Score\"].median())\n```\n\n**Median in data with missing values ​​(NaN)**\n\nSometimes data contains missing values. `Pandas` and `NumPy` can handle them easily:\n\n```{python}\nimport numpy as np\nimport pandas as pd\n\ndata = [10, 12, np.nan, 17, 18]\n\n# با NumPy\nprint(\"Median with NumPy:\", np.nanmedian(data))\n\n# با Pandas\ns = pd.Series(data)\nprint(\"Median with Pandas:\", s.median())\n```\n\n**Example :Data Frame (Numeric + Categorical)**\n\n```{python}\nimport pandas as pd\nimport numpy as np\n\n\ndata = {\n    \"Age\": [24, 30, 22, 24, 30, 24],\n    \"Score\": [85, np.nan, 78, 92, np.nan, 95],\n    \"Gender\": [\"F\", \"M\", \"M\", \"F\", \"M\", \"F\"]\n}\n\ndf = pd.DataFrame(data)\nprint(df)\n```\n\n**Calculate the median for each column.**\n\n```{python}\nmedians = df.median(numeric_only=True, skipna=True)\nprint(medians)\n```\n\n**Calculating the median by gender**\n\n```{python}\ngroup_medians = df.groupby(\"Gender\").median(numeric_only=True)\nprint(group_medians)\n```\n\n## Mean in R\n\n### **Arithmetic Mean in R**\n\nIn R, we use the `mean()` function to calculate the mean.\n\n```{r}\nanxiety_scores <- c(12, 15, 20, 22, 18, 30, 25, 19, 17, 50)\nmean(anxiety_scores)\n```\n\n**Mean with missing data (NA) in R**\n\nIf the data contains *missing values ​​(NA)*, you must use the argument `na.rm = TRUE`\n\n```{r}\ndata <- c(5, 10, NA, 20)\n\nmean(data, na.rm = TRUE)\n```\n\n**categorical variables: `tapply`**\n\nThe researcher wants to examine the average depression scores of two groups (men and women). To do this, we use `tapply`.\n\n```{r}\ngroup <- c(\"f\",\"f\",\"f\",\"m\",\"m\",\"m\")\ndepression <- c(18, 22, 20, 25, 30, 28)\n\ntapply(depression, group, mean)\n```\n\n**Calculating the mean in a Data Frame with *missing data(NA)***\n\nA researcher collected anxiety and depression scores from psychology students. Some students did not answer some questions, and the data is incomplete.\n\n```{r}\ndata <- data.frame(\n  Gender = c(\"f\", \"f\", \"m\", \"m\", \"f\", \"m\"),\n  Anxiety = c(12, 15, NA, 20, 18, 25),\n  Depression = c(30, NA, 28, 35, 40, NA)\n)\n\ndata\n```\n\n**Use `lapply , sapply`**\n\nMean of each column “Anxiety”,”Depression” (regardless of gender)\n\n```{r}\nsapply(data[, c(\"Anxiety\",\"Depression\")], mean, na.rm = TRUE)  #1\n#or\nsapply(data[sapply(data, is.numeric)], mean, na.rm = TRUE)     #2\n\n#or\nlapply(data[, c(\"Anxiety\",\"Depression\")], mean, na.rm = TRUE)  #3\n```\n\n**Use** **`tapply`**\n\nMean anxiety and depression scores by gender\n\n```{r}\ntapply(data$Anxiety, data$Gender, mean, na.rm = TRUE)\ntapply(data$Depression, data$Gender, mean, na.rm = TRUE)\n```\n\nUse **`aggregate`**\n\n```{r}\naggregate(cbind(Anxiety, Depression) ~ Gender, data = data, mean,na.rm = TRUE)\n\n```\n\n### **Geometric Mean in R**\n\nThis indicator is most often used when the data is a ratio or ratio, such as growth rates, investment returns, or population changes.\n\n**Method 1: Using the `psych` package**\n\n```{r}\ninstall.packages(\"psych\")\n\nlibrary(psych)\n\nnumbers <- c(4, 8, 16, 32)\n\ngeometric.mean(numbers)\n```\n\n**Method 2: Using a formula (without a package)**\n\n```{r}\nnumbers <- c(4, 8, 16, 32)\n\ngm <- exp(mean(log(numbers)))\n\nprint(gm)\n```\n\n**Application of the geometric mean:**\n\n-   **Economics**: mean annual growth rate of an investment.\n\n-   **Medical science**: mean increase in bacterial population .\n\n-   **Management:** mean annual sales growth percentage.\n\n### **Harmonic Mean in R**\n\nHarmonic mean is most often used in situations where the data is a ratio or rate (such as speed, productivity, or growth rate).\n\n**Method 1: Using the `psych` package**\n\n```{r}\n\ninstall.packages(\"psych\")\n\nlibrary(psych)\n\nnumbers <- c(2, 4, 8, 16)\n\nharmonic.mean(numbers)\n```\n\n**Method 2: Using a formula (without a package)**\n\n```{r}\nnumbers <- c(2, 4, 8, 16)\n\nhm <- length(numbers) / sum(1 / numbers)\n\nprint(hm)\n```\n\n**Application of harmonic mean:**\n\n-   **Physics:** Calculating the average speed when the same distance is traveled at different speeds.\n\n-   **Economics:** Average interest rates or investment returns.\n\n-   **Management:** Average productivity indicators in an organization.\n\n**Important**\n\n-   The data must be positive.\n\n-   If the data contains zero or negative values, the harmonic mean is not defined.\n\n-   For data with NA, you must use `na.rm=TRUE`\n\n### **Trimmed Mean in R**\n\nThe Trimmed Mean is a version of the arithmetic mean in which a percentage of the smallest and largest data values ​​are removed to reduce the effect of outliers.\n\nif the data contains very large or very small values, the arithmetic mean can be misleading. In these situations, we use the trimmed mean.\n\n```{r}\nnumbers <- c(2, 3, 4, 5, 100)\n\nmean(numbers)\n\nmean(numbers, trim = 0.2)\n```\n\n-   The trim value is chosen between 0 and 0.5.\n\n-   For example, trim=0.1 means that 10% of the data is removed from the beginning and 10% from the end.\n\n-   Before calculation, the data is sorted in ascending order.\n\n**Application**\n\n-   **Social sciences:** In questionnaires when some responses are very unusual.\n\n-   **Economics:** In calculating indices when there are outliers.\n\n-   **Data analysis:** In data that has noise or measurement error.\n\n## Mean in Python\n\n### **Arithmetic Mean in Python**\n\n**Method 1:** Using **`statistics.mean`**\n\n```{python}\nimport statistics\n\nnumbers = [10, 20, 30, 40, 50]\nmean_value = statistics.mean(numbers)\n\nprint(\"Mean:\", mean_value)\n```\n\n**Method 2:** Using **`NumPy`**\n\n```{python}\nimport numpy as np\n\nnumbers = [10, 20, 30, 40, 50]\nmean_value = np.mean(numbers)\n\nprint(\"Mean:\", mean_value)\n```\n\n-   **If the data is small:** use `statistics.mean`\n\n-   **If the data is large or a matrix:** use `numpy.mean.`\n\n**Method 3:** Using **`Pandas`**\n\n**Example 1:** Calculating the mean of a column\n\n```{python}\nimport pandas as pd\n\ndata = {\n  \"Name\":[\"Sevda\", \"MG\", \"Reza\", \"RG\"],\n   \"Math\":[20, 12, 18, 15],\n   \"Statistics\": [17, 16, 19, 14]\n}\n\ndf = pd.DataFrame(data)\n\nmean_math = df[\"Math\"].mean()\n\nprint(\"Math:\", mean_math)\n```\n\n**Example 2:** Calculating the mean of all columns\n\n```{python}\nmeans = df.mean(numeric_only=True)\nprint(means)\n```\n\n**Example 3:** Calculating the mean of each row\n\n```{python}\ndf[\"Individual Mean\"] = df.mean(numeric_only=True, axis=1)\n\nprint(df)\n```\n\n**Mean with NaN**\n\n1.  **Using Pandas** The Pandas library ignores `NaN` values ​​by default in its statistical functions.\n\n```{python}\nimport pandas as pd\nimport numpy as np\n\n\ndata = {\n  \"Name\":[\"Sevda\", \"MG\", \"Reza\", \"RG\"],\n   \"Math\":[20, 12, np.nan, 15],\n   \"Statistics\": [17, 16, 19, np.nan]\n}\n\ndf = pd.DataFrame(data)\n\nmean_math = df[\"Math\"].mean()\nmean_Statistics = df[\"Statistics\"].mean()\n\n\nprint(\"Math:\", mean_math)\nprint(\"Statistics:\", mean_Statistics)\n\n```\n\n```{python}\nmeans = df.mean(numeric_only=True)\nprint(means)\n\n```\n\n1.  **Using `NumPy`** with `np.nanmean()`\n\n```{python}\nimport numpy as np\n\nnumbers = [10, 20, np.nan, 30, 40]\n\nmean_value = np.nanmean(numbers)\n\nprint(\" Mean:\", mean_value)\n```\n\n**Example:** DataFrame (numeric + categorical)\n\n```{python}\nimport pandas as pd\nimport numpy as np\n\ndata = {\n    \"Name\":[\"Sevda\", \"MG\", \"Reza\", \"RG\", \"SG\"],\n    \"Class\":[\"A\", \"B\", \"C\", \"A\", \"C\"],\n    \"Math\":[12, 18, 15, np.nan, 20],\n    \"physics\": [17, 16, 19, 14, np.nan],\n    \"Psychology\": [np.nan, 18, 13, 15, 19]\n}\n\ndf = pd.DataFrame(data)\n\nprint(df)\n```\n\n1.  Mean of all numeric columns\n\n```{python}\nmeans = df.mean(numeric_only=True)\nprint(means)\n```\n\n2.  Mean of each row (for each student)\n\n```{python}\ndf[\"Individual Mean\"] = df.mean(numeric_only=True, axis=1)\n\nprint(df)\n```\n\n3.  Calculate the group mean (based on categorical column)\n\n```{python}\ngroup_means = df.groupby(\"Class\").mean(numeric_only=True)\nprint(group_means)\n```\n\n### **Geometric Mean in Python**\n\n1.  Using `statistics.geometric_mean` (Python 3.8 and later)\n\n```{python}\nimport statistics\n\nnumbers = [2, 8, 4]\n\ngm = statistics.geometric_mean(numbers)\n\nprint(\"geometric_mean:\", gm)\n```\n\n2.  Using **SciPy** :`scipy.stats.gmean`\n\n```{python}\nfrom scipy.stats import gmean\n\nnumbers = [2, 8, 4]\n\ngm = gmean(numbers)\n\nprint(\"gmean:\", gm)\n```\n\n**If a number is zero:** the total geometric mean is zero.\n\n-   **If a number is negative:** the geometric mean is not defined (except in special cases).\n\n### Harmonic Mean **in Python**\n\n1.  **Using** **`statistics.harmonic_mean`** (Python 3.6 and later)\n\n```{python}\nimport statistics\n\nnumbers = [2, 4, 4]\n\nhm = statistics.harmonic_mean(numbers)\n\nprint(\"hm :\", hm)\n```\n\n2.  Using **SciPy** :`scipy.stats.hmean`\n\n```{python}\nfrom scipy.stats import hmean\n\nnumbers = [2, 4, 4]\n\nhm = hmean(numbers)\n\nprint(\"hmean:\", hm)\n```\n\n-   All data must be positive. If a value is zero or negative, the harmonic mean is not defined.\n\n-   The main application is in rates (such as average speed over equal distances).\n\n### Trimmed Mean in Python\n\nThe trimmed mean is the same as the regular mean, except that some of the largest and smallest data (for example, the top 10% and bottom 10%) are removed and then the mean is taken.\n\n1.  Using **SciPy** (`scipy.stats.trim_mean`)\n\n```{python}\nfrom scipy.stats import trim_mean\n\nnumbers = [1, 2, 2, 3, 4, 100]\n\ntm = trim_mean(numbers, 0.1)\n\nprint(\"tm :\", tm)\n```\n\n-   **trim_mean(data, 0.1)** : Remove 10% of the data from the beginning and end\n\n-   **trim_mean(data, 0.2)** : Remove 20% of the data\n\nEnd Reza\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"output-file":"chapter1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.24","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}